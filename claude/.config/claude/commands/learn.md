---
description: 再利用可能なパターンの抽出
allowed-tools: Read, Write, Glob
---

# /learn - 再利用可能なパターンの抽出

開発セッション中に発見した価値ある問題解決アプローチを文書化するコマンド。

## コア機能

非自明な課題に遭遇し解決した際にこのツールを起動。以下をキャプチャする：

### エラー解決パターン
- 何が問題だったか
- 根本原因
- 類似状況に適用可能な修正方法

### デバッグテクニック
- ツールを効果的に組み合わせる方法

### ワークアラウンド
- ライブラリの癖やAPI制約への対処法

## ドキュメント構造

スキルは `~/.claude/skills/learned/[pattern-name].md` にMarkdownファイルとして保存：

```markdown
# [パターン名]

## 問題定義
[対処した具体的な問題]

## 解決方法
[解決のアプローチ]

## コード例
\`\`\`typescript
// 関連するコード例
\`\`\`

## 適用条件
[このパターンを使用すべき状況]
```

## 品質基準

### 抽出すべきもの
- ✅ 本当に再利用可能な洞察
- ✅ 複数のプロジェクトで役立つパターン
- ✅ 発見に時間がかかったワークアラウンド

### 抽出しないもの
- ❌ 自明な修正（タイポ、単純な構文エラー）
- ❌ 一時的な問題（サービス障害など）
- ❌ プロジェクト固有すぎる解決策

## ワークフロー

```
1. セッションの作業をレビュー
2. 最も価値のある洞察を特定
3. スキルドキュメントをドラフト
4. 確認をリクエスト
5. 将来の参照用に保存
```

## 使用例

```
User: /learn

Claude: セッションをレビューしました。以下のパターンを抽出しました：

### Supabase RLSポリシーのデバッグ
- **問題**: ユーザーが自分のデータにアクセスできない
- **原因**: JWTのclaimとポリシーの条件不一致
- **解決**: auth.uid()の代わりにauth.jwt()->>'sub'を使用

このパターンを保存しますか？
```
